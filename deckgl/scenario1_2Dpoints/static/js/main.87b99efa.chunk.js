(this["webpackJsonp3DFlus-framework-benchmark"]=this["webpackJsonp3DFlus-framework-benchmark"]||[]).push([[0],{127:function(t,a){},130:function(t,a){},197:function(t,a){},200:function(t,a,e){"use strict";e.r(a);var n=e(6),i=e.n(n),o=e(151),s=e.n(o),r=e(14),c=e(8),l=e.n(c),u=e(18),p=e(1),d=e(3),h=e(9),f=e(10),m=e(218),b=e(219),g=e(159),j=e(217),y=e(222),v=e(126),w=e.n(v),k=e(220),O=e(153),D=e(80),_=new O.a,x={numOfPoints:"900 000",showBuildings:!1},S=_.add(x,"numOfPoints",["40 000","400 000","900 000","1 700 000"]).name("Number of points").listen(),B=_.add(x,"showBuildings").name("Show buildings").listen(),M={longitude:120.81321,latitude:14.7569,zoom:10},P="https://ptr.gisat.cz/ftpstorage/applications/emsn091Manila/interferometry/los/32.json",A="https://ptr.gisat.cz/ftpstorage/applications/emsn091Manila/interferometry/los/142.json",C="https://ptr.gisat.cz/ftpstorage/applications/emsn091Manila/interferometry/los/142_decimated.json",F="https://ptr.gisat.cz/ftpstorage/applications/emsn091Manila/interferometry/vertg/32.json",z="https://ptr.gisat.cz/ftpstorage/applications/emsn091Manila/interferometry/vertg/142.json",E="./data/buildings/manila_buildings_larger_than_250.shp",J=function(t){switch(t){case"40 000":G=[C];break;case"400 000":G=[A];break;case"900 000":G=[P,A];break;case"1 700 000":G=[P,A,F,z];break;default:G=[A]}},W=function(t){R=t?E:""},G=[],R=[];W(x.showBuildings),J(x.numOfPoints);var I=w.a.scale(["#fda34b","#ff7882","#c8699e","#7046aa","#0c1db8","#2eaaac"]).domain([-30,10]),T=w.a.scale(["#A0FAB4","#88CA97","#6E9B78","#536E59"]).domain([0,20]),V=function(t){Object(h.a)(e,t);var a=Object(f.a)(e);function e(){var t;Object(p.a)(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=a.call.apply(a,[this].concat(i))).state={mapStyle:"mapbox://styles/mapbox/satellite-v9",jsonData:[],shpData:[]},t._loadPoints=function(){t._loadData().then((function(a){t.setState({jsonData:a})}))},t._loadBuildings=function(){t._loadShpData().then((function(a){t.setState({shpData:a})}))},t._loadShpData=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(R.length>0)){t.next=7;break}return t.next=3,Object(k.a)(R,j.a);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t)}))),t._loadData=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],G.forEach((function(t){return a.push(new Promise((function(a,e){return a(Object(k.a)(t,y.a))})))})),t.abrupt("return",Promise.all(a).then((function(t){return t.flat()})));case 3:case"end":return t.stop()}}),t)}))),t}return Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this;S.onChange((function(a){t.setState({jsonData:[]}),J(a),t._loadPoints()})),B.onChange((function(a){t.setState({shpData:[]}),W(a),t._loadBuildings()})),this._loadPoints(),x.showBuildings&&this._loadBuildings()}},{key:"componentWillUnmount",value:function(){_.destroy()}},{key:"render",value:function(){var t=[];return this.state.shpData.length>0&&x.showBuildings&&t.push(new b.a({id:"buildings-geojson-layer",data:this.state.shpData,pickable:!1,filled:!0,extruded:!0,getFillColor:function(t){return[].concat(Object(r.a)(T(20*Math.random()).rgb()),[255])},getElevation:function(t){return 20*Math.random()},elevationScale:3})),this.state.jsonData.length>0&&t.push(new b.a({id:"points-geojson-layer",data:this.state.jsonData,pickable:!0,stroked:!1,filled:!0,extruded:!0,pointType:"circle",lineWidthScale:20,lineWidthMinPixels:2,elevationValue:function(t){return 100*Math.random()},getFillColor:function(t){return[].concat(Object(r.a)(I(t.properties.vel_avg).rgb()),[255])},getPointRadius:20})),Object(D.jsx)("div",{children:Object(D.jsx)(m.a,{initialViewState:M,controller:!0,layers:t,children:Object(D.jsx)(g.a,{mapboxApiAccessToken:"pk.eyJ1IjoibWFyaWRhbmkiLCJhIjoiSGF2TGdwZyJ9.B0N8ybRGG38wmRK_VfxPoA",mapStyle:this.state.mapStyle})})})}}]),e}(n.Component);s.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(V,{})}),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.87b99efa.chunk.js.map