(this["webpackJsonp3DFlus-framework-benchmark-deckgl-scenario2"]=this["webpackJsonp3DFlus-framework-benchmark-deckgl-scenario2"]||[]).push([[0],{124:function(t,a){},127:function(t,a){},169:function(t,a){},172:function(t,a,e){"use strict";e.r(a);var n=e(5),s=e.n(n),i=e(140),o=e.n(i),r=e(14),c=e(8),l=e.n(c),u=e(19),d=e(1),p=e(3),f=e(9),h=e(10),g=e(192),b=e(193),m=e(148),j=e(191),v=e(196),k=e(123),w=e.n(k),_=e(194),y=e(142),O=e(187),D=e(80),x=new y.a,S={numOfPoints:"400 000",showBuildings:!1},B=x.add(S,"numOfPoints",["40 000","400 000","900 000","1 700 000"]).name("Number of points").listen(),P=x.add(S,"showBuildings").name("Show buildings").listen(),z={longitude:120.81321,latitude:14.7569,zoom:10},A="https://ptr.gisat.cz/ftpstorage/applications/3dflus/test_data/interferometry/los/32.json",C="https://ptr.gisat.cz/ftpstorage/applications/3dflus/test_data/interferometry/los/142.json",M="./data/interferometry/los/142_decimated.json",E="https://ptr.gisat.cz/ftpstorage/applications/3dflus/test_data/interferometry/vertg/32.json",F="https://ptr.gisat.cz/ftpstorage/applications/3dflus/test_data/interferometry/vertg/142.json",T="https://ptr.gisat.cz/ftpstorage/applications/3dflus/test_data/buildings/manila_buildings_larger_than_250.shp",W=function(t){switch(t){case"40 000":J=[M];break;case"400 000":J=[C];break;case"900 000":J=[A,C];break;case"1 700 000":J=[A,C,E,F];break;default:J=[C]}},I=function(t){N=t?T:""},J=[],N=[];I(S.showBuildings),W(S.numOfPoints);var R=w.a.scale(["#fda34b","#ff7882","#c8699e","#7046aa","#0c1db8","#2eaaac"]).domain([-30,10]),V=w.a.scale(["#A0FAB4","#88CA97","#6E9B78","#536E59"]).domain([0,20]),U=function(t){Object(f.a)(e,t);var a=Object(h.a)(e);function e(){var t;Object(d.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=a.call.apply(a,[this].concat(s))).state={mapStyle:"".length>0?"mapbox://styles/mapbox/satellite-v9":O.a.POSITRON,jsonData:[],shpData:[]},t._loadPoints=function(){t._loadData().then((function(a){t.setState({jsonData:a})}))},t._loadBuildings=function(){t._loadShpData().then((function(a){t.setState({shpData:a})}))},t._loadShpData=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(N.length>0)){t.next=7;break}return t.next=3,Object(_.a)(N,j.a);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t)}))),t._loadData=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],J.forEach((function(t){return a.push(new Promise((function(a,e){return a(Object(_.a)(t,v.a))})))})),t.abrupt("return",Promise.all(a).then((function(t){return t.flat()})));case 3:case"end":return t.stop()}}),t)}))),t}return Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=this;B.onChange((function(a){t.setState({jsonData:[]}),W(a),t._loadPoints()})),P.onChange((function(a){t.setState({shpData:[]}),I(a),t._loadBuildings()})),this._loadPoints(),S.showBuildings&&this._loadBuildings()}},{key:"componentWillUnmount",value:function(){x.destroy()}},{key:"render",value:function(){var t=[];return this.state.shpData.length>0&&S.showBuildings&&t.push(new b.a({id:"buildings-geojson-layer",data:this.state.shpData,pickable:!1,filled:!0,extruded:!0,getFillColor:function(t){return[].concat(Object(r.a)(V(20*Math.random()).rgb()),[255])},getElevation:function(t){return 20*Math.random()},elevationScale:3})),this.state.jsonData.length>0&&t.push(new b.a({id:"points-geojson-layer",data:this.state.jsonData,pickable:!0,stroked:!1,filled:!0,extruded:!0,pointType:"circle",lineWidthScale:20,lineWidthMinPixels:2,elevationValue:function(t){return 100*Math.random()},getFillColor:function(t){return[].concat(Object(r.a)(R(t.properties.vel_avg).rgb()),[255])},getPointRadius:20})),Object(D.jsx)("div",{children:Object(D.jsx)(g.a,{initialViewState:z,controller:!0,layers:t,children:Object(D.jsx)(m.a,{mapboxApiAccessToken:"",mapStyle:this.state.mapStyle})})})}}]),e}(n.Component);o.a.render(Object(D.jsx)(s.a.StrictMode,{children:Object(D.jsx)(U,{})}),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.a8d09523.chunk.js.map